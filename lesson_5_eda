{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Intro to R and Exploratory Data Analysis\n",
    "\n",
    "## Navigating around Jupyter Notebooks\n",
    "\n",
    "This is a Jupyter notebook running R. Code cells can be created by clicking the \"+\" button in the toolbar or using the hotkey ESC+B (below) or ESC+A (above). To run a code cell, click the play button or use SHIFT+ENTER.\n",
    "\n",
    "Try running the code cell below now."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "4 * 5\n",
    "3 + 6\n",
    "x <- c(3, 4, 5)\n",
    "x"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "The above is examples of simple computations and creating a variable \"x\" which stores a vector of 3 numbers.\n",
    "\n",
    "## Loading Libraries\n",
    "\n",
    "Before we begin, we need to load the `tidyverse` package, which includes helpful tools for data manipulation and visualization."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "library(tidyverse)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Loading Data from Army Vantage\n",
    "\n",
    "In this course, we'll be working with datasets stored in Army Vantage. To load a dataset, we use the `datasets.read_table()` function with the dataset name in quotes.\n",
    "\n",
    "**Note:** For this Colab environment, you may need to upload your data file or connect to your data source differently."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Load a dataset from Vantage\n",
    "# If running in Colab, you may need to upload your CSV file first\n",
    "# dataset_173 <- read_csv(\"dataset_173.csv\")\n",
    "\n",
    "dataset_173 <- datasets.read_table(\"dataset_173\")\n",
    "\n",
    "# View the first few rows\n",
    "head(dataset_173)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "At any time, you may also view the dataset by clicking on it in the Environment pane (if using RStudio) or by running `View(dataset_173)`.\n",
    "\n",
    "**Practice:** Load your dataset and answer the following:\n",
    "\n",
    "- How many rows (observations) does the dataset have?\n",
    "- How many columns (variables) does the dataset have?\n",
    "- What are the names of the variables?\n",
    "\n",
    "## Descriptive Statistics: Measures of Location\n",
    "\n",
    "Measures of location tell us about the \"center\" or \"typical\" value of our data. We can simply calculate them using the function names `mean()` and `median`. However, we can also use these within the `summarize()` function from tidyverse to create a summary table.\n",
    "\n",
    "**Example:** Let's create a simple tibble and calculate its measures of location:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataset_173 |>\n",
    "  summarize(\n",
    "    mean_score = mean(m4_score),\n",
    "    median_score = median(m4_score)\n",
    "  )"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Practice:**\n",
    "\n",
    "1. Why might the mean and median be different?\n",
    "2. Calculate the mean and median for another variable in dataset_173.\n",
    "\n",
    "## Descriptive Statistics: Measures of Spread\n",
    "\n",
    "Measures of spread tell us how \"spread out\" or variable our data is."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Calculate multiple measures of spread\n",
    "dataset_173 %>%\n",
    "  summarize(\n",
    "    min_score = min(m4_score),\n",
    "    max_score = max(m4_score),\n",
    "    range = max(m4_score) - min(m4_score),\n",
    "    variance = var(m4_score),\n",
    "    std_dev = sd(m4_score),\n",
    "    iqr = IQR(m4_score),\n",
    "    q1 = quantile(m4_score, 0.25),\n",
    "    q3 = quantile(m4_score, 0.75)\n",
    "  )"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Key Insight:** Standard deviation measures how far, on average, data points are from the mean. A small SD means data is clustered tightly around the mean; a large SD means data is more spread out.\n",
    "\n",
    "**Practice:**\n",
    "\n",
    "1. Calculate the above measures of spread using another variable in dataset_173.\n",
    "2. What does this value tell you about the variability in that variable?\n",
    "\n",
    "## Data Visualization: Histograms\n",
    "\n",
    "Histograms show the distribution of a single quantitative variable by dividing the data into bins and displaying the frequency of observations in each bin. We'll use `ggplot2` to create professional-looking visualizations."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Basic histogram\n",
    "ggplot(dataset_173, aes(x = m4_score)) +\n",
    "  geom_histogram()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Histogram with customization\n",
    "ggplot(dataset_173, aes(x = m4_score)) +\n",
    "  geom_histogram(bins = 10, fill = \"lightblue\", color = \"black\") +\n",
    "  labs(\n",
    "    title = \"Distribution of M4 Qual Scores\",\n",
    "    x = \"Score\",\n",
    "    y = \"Frequency\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Practice:**\n",
    "\n",
    "1. Create a histogram of another variable from dataset_173.\n",
    "2. Describe the shape: Is it symmetric? Skewed left or right? Are there outliers?\n",
    "\n",
    "## Data Visualization: Boxplots\n",
    "\n",
    "Boxplots display the five-number summary and help identify outliers."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Basic boxplot\n",
    "ggplot(dataset_173, aes(y = m4_score)) +\n",
    "  geom_boxplot()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Boxplot with customization\n",
    "ggplot(dataset_173, aes(y = m4_score)) +\n",
    "  geom_boxplot(fill = \"lightgreen\", color = \"black\") +\n",
    "  labs(\n",
    "    title = \"M4 Qual Scores Boxplot\",\n",
    "    y = \"Score\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Horizontal boxplot\n",
    "ggplot(dataset_173, aes(x = m4_score)) +\n",
    "  geom_boxplot(fill = \"lightgreen\", color = \"black\") +\n",
    "  labs(\n",
    "    title = \"M4 Qual Scores Boxplot\",\n",
    "    x = \"Score\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Understanding Boxplots:**\n",
    "\n",
    "- Box shows the interquartile range (Q1 to Q3)\n",
    "- Line in the box is the median\n",
    "- Whiskers extend to roughly the min/max (within 1.5Ã—IQR)\n",
    "- Points beyond whiskers are potential outliers\n",
    "\n",
    "**Practice:**\n",
    "\n",
    "1. Create a boxplot of another variable from dataset_173.\n",
    "2. Are there any outliers? How can you tell?\n",
    "\n",
    "## Data Visualization: Scatterplots\n",
    "\n",
    "Scatterplots show the relationship between two quantitative variables."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Basic scatterplot\n",
    "ggplot(dataset_173, aes(x = height, y = weight)) +\n",
    "  geom_point()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Scatterplot with customization\n",
    "ggplot(dataset_173, aes(x = height, y = weight)) +\n",
    "  geom_point(size = 0.5, color = \"blue\") +\n",
    "  labs(\n",
    "    title = \"Height vs Weight\",\n",
    "    x = \"Height (inches)\",\n",
    "    y = \"Weight (lbs)\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Practice:**\n",
    "\n",
    "1. Create a scatterplot using two other variables from dataset_173.\n",
    "2. Does there appear to be a relationship between the variables?\n",
    "3. Is the relationship positive (both increase together) or negative (one increases as the other decreases)?\n",
    "\n",
    "## Grouped Statistics with group_by()\n",
    "\n",
    "Often we want to calculate statistics separately for different groups in our data. The `group_by()` function allows us to do this efficiently.\n",
    "\n",
    "**Example:** Calculate mean M4 scores by age_bracket:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataset_173 %>%\n",
    "  group_by(age_bracket) %>%\n",
    "  summarize(\n",
    "    n = n(),  # count observations in each group\n",
    "    mean_m4 = mean(m4_score),\n",
    "    sd_m4 = sd(m4_score),\n",
    "    median_m4 = median(m4_score)\n",
    "  )"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Multiple grouping variables:** You can group by more than one variable:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "dataset_173 %>%\n",
    "  group_by(age_bracket, battalion) %>%\n",
    "  summarize(\n",
    "    n = n(),\n",
    "    mean_m4 = mean(m4_score),\n",
    "    .groups = \"drop\"  # removes grouping after summarize\n",
    "  )"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Practice:**\n",
    "\n",
    "1. Calculate the mean and standard deviation of another variable, grouped by company.\n",
    "2. How do the groups compare? Which has the highest mean? Which has the most variability?\n",
    "\n",
    "## Comparative Visualizations: Side-by-Side Boxplots\n",
    "\n",
    "Side-by-side boxplots allow us to compare the distribution of a quantitative variable across different groups."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Boxplots by age_bracket\n",
    "ggplot(dataset_173, aes(x = age_bracket, y = m4_score, fill = age_bracket)) +\n",
    "  geom_boxplot() +\n",
    "  labs(\n",
    "    title = \"M4 Scores by age_bracket\",\n",
    "    x = \"age_bracket\",\n",
    "    y = \"M4 Score\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Boxplots by battalion\n",
    "ggplot(dataset_173, aes(x = battalion, y = m4_score, fill = battalion)) +\n",
    "  geom_boxplot() +\n",
    "  labs(\n",
    "    title = \"M4 Scores by Battalion\",\n",
    "    x = \"Battalion\",\n",
    "    y = \"M4 Score\"\n",
    "  ) +\n",
    "  theme_minimal() +\n",
    "  theme(legend.position = \"none\")  # remove legend if x-axis is clear"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Practice:**\n",
    "\n",
    "1. Create side-by-side boxplots comparing another variable across groups.\n",
    "2. Which group has the highest median? Are there more outliers in any particular group?\n",
    "\n",
    "## Comparative Visualizations: Faceted Histograms\n",
    "\n",
    "Faceting creates separate plots for each group, making it easy to compare distributions."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Histograms faceted by age_bracket\n",
    "ggplot(dataset_173, aes(x = m4_score, fill = age_bracket)) +\n",
    "  geom_histogram(bins = 10, color = \"black\") +\n",
    "  facet_wrap(~age_bracket) +\n",
    "  labs(\n",
    "    title = \"Distribution of M4 Scores by age_bracket\",\n",
    "    x = \"M4 Score\",\n",
    "    y = \"Frequency\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Can also use facet_grid for two grouping variables\n",
    "ggplot(dataset_173, aes(x = m4_score)) +\n",
    "  geom_histogram(bins = 10, fill = \"steelblue\", color = \"black\") +\n",
    "  facet_grid(age_bracket ~ battalion) +\n",
    "  labs(\n",
    "    title = \"M4 Scores by age_bracket and Company\",\n",
    "    x = \"M4 Score\",\n",
    "    y = \"Frequency\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Practice:**\n",
    "\n",
    "1. Create faceted histograms for another variable.\n",
    "2. Do the distributions look similar across groups or different?\n",
    "\n",
    "## Comparative Visualizations: Colored Scatterplots\n",
    "\n",
    "Adding color to scatterplots helps us see patterns within different groups."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Scatterplot with points colored by group\n",
    "ggplot(dataset_173, aes(x = height, y = weight, color = age_bracket)) +\n",
    "  geom_point(size = 2, alpha = 0.6) +  # alpha controls transparency\n",
    "  labs(\n",
    "    title = \"Height vs Weight by age_bracket\",\n",
    "    x = \"Height (inches)\",\n",
    "    y = \"Weight (lbs)\",\n",
    "    color = \"age_bracket\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Can also add separate trend lines for each group\n",
    "ggplot(dataset_173, aes(x = height, y = weight, color = age_bracket)) +\n",
    "  geom_point(size = 2, alpha = 0.6) +\n",
    "  geom_smooth(method = \"lm\", se = FALSE) +  # linear trend lines\n",
    "  labs(\n",
    "    title = \"Height vs Weight by age_bracket\",\n",
    "    x = \"Height (inches)\",\n",
    "    y = \"Weight (lbs)\",\n",
    "    color = \"age_bracket\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Practice:**\n",
    "\n",
    "1. Create a scatterplot with points colored by a grouping variable.\n",
    "2. Does the relationship between your two variables appear to be different across groups?\n",
    "\n",
    "## Comparative Visualizations: Overlapping Histograms\n",
    "\n",
    "Sometimes it's useful to overlay histograms to directly compare distributions."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Overlapping histograms\n",
    "ggplot(dataset_173, aes(x = m4_score, fill = age_bracket)) +\n",
    "  geom_histogram(bins = 10, alpha = 0.5, position = \"identity\") +\n",
    "  labs(\n",
    "    title = \"Overlapping M4 Score Distributions\",\n",
    "    x = \"M4 Score\",\n",
    "    y = \"Frequency\",\n",
    "    fill = \"age_bracket\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Density plots work well for this too\n",
    "ggplot(dataset_173, aes(x = m4_score, fill = age_bracket)) +\n",
    "  geom_density(alpha = 0.5) +\n",
    "  labs(\n",
    "    title = \"M4 Score Distributions by age_bracket\",\n",
    "    x = \"M4 Score\",\n",
    "    y = \"Density\",\n",
    "    fill = \"age_bracket\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Practice:**\n",
    "\n",
    "1. Create overlapping histograms or density plots for another variable.\n",
    "2. Which group has the higher values on average? Is there a lot of overlap?\n",
    "\n",
    "## Putting It All Together: Example Analysis\n",
    "\n",
    "Here's a complete analysis workflow combining multiple techniques:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# 1. Calculate grouped statistics\n",
    "dataset_173 %>%\n",
    "  group_by(battalion) %>%\n",
    "  summarize(\n",
    "    n = n(),\n",
    "    mean_m4 = mean(m4_score),\n",
    "    sd_m4 = sd(m4_score),\n",
    "    mean_weight = mean(weight),\n",
    "    sd_weight = sd(weight)\n",
    "  )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# 2. Create comparison boxplots\n",
    "ggplot(dataset_173, aes(x = battalion, y = m4_score, fill = battalion)) +\n",
    "  geom_boxplot() +\n",
    "  labs(\n",
    "    title = \"M4 Score Comparison Across Battalions\",\n",
    "    x = \"Battalion\",\n",
    "    y = \"M4 Score\"\n",
    "  ) +\n",
    "  theme_minimal() +\n",
    "  theme(legend.position = \"none\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# 3. Create a faceted scatterplot\n",
    "ggplot(dataset_173, aes(x = height, y = weight)) +\n",
    "  geom_point(aes(color = age_bracket), alpha = 0.6) +\n",
    "  facet_wrap(~battalion) +\n",
    "  labs(\n",
    "    title = \"Height vs Weight by Battalion\",\n",
    "    x = \"Height (inches)\",\n",
    "    y = \"Weight (lbs)\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "---\n",
    "\n",
    "# On Your Own: Complete Unit Data Analysis\n",
    "\n",
    "For this assignment, you will conduct a complete exploratory data analysis using your own unit's dataset. Follow the steps below carefully and document your findings.\n",
    "\n",
    "## Step 1: Load Your Unit Data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Load your unit's dataset - replace \"your_unit_dataset\" with the actual dataset name\n",
    "# If using Colab, upload your CSV and use: unit_data <- read_csv(\"your_file.csv\")\n",
    "unit_data <- datasets.read_table(\"your_unit_dataset\")\n",
    "\n",
    "# Examine the structure\n",
    "head(unit_data)\n",
    "colnames(unit_data)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Answer the following:**\n",
    "\n",
    "1. What is the name of your unit's dataset?\n",
    "2. How many soldiers are in your dataset (rows)?\n",
    "3. How many variables are measured (columns)?\n",
    "4. List at least 5 variables that are in your dataset.\n",
    "\n",
    "## Step 2: Choose Your Variables\n",
    "\n",
    "For this analysis, you will need to select:\n",
    "\n",
    "- **Variable 1**: A quantitative variable of interest (your primary focus)\n",
    "- **Variable 2**: A second quantitative variable that you think might be related to Variable 1\n",
    "- **Grouping Variable**: A categorical variable (e.g., age_bracket, rank, MOS) to compare across groups\n",
    "\n",
    "**Document your choices:**\n",
    "\n",
    "1. Variable 1: _________________ (Why did you choose this?)\n",
    "2. Variable 2: _________________ (Why did you choose this?)\n",
    "3. Grouping Variable: _________________ (Why did you choose this?)\n",
    "\n",
    "## Step 3: Overall Descriptive Statistics\n",
    "\n",
    "Calculate comprehensive descriptive statistics for Variable 1:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Your code here\n",
    "unit_data %>%\n",
    "  summarize(\n",
    "    n = n(),\n",
    "    mean = mean(variable1),\n",
    "    median = median(variable1),\n",
    "    sd = sd(variable1),\n",
    "    iqr = IQR(variable1),\n",
    "    min = min(variable1),\n",
    "    max = max(variable1),\n",
    "    q1 = quantile(variable1, 0.25),\n",
    "    q3 = quantile(variable1, 0.75)\n",
    "  )"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Write 3-4 sentences interpreting these statistics:**\n",
    "\n",
    "- What is the typical value for this variable?\n",
    "- How much variability is there?\n",
    "- Are there any surprising values?\n",
    "\n",
    "## Step 4: Grouped Descriptive Statistics\n",
    "\n",
    "Calculate descriptive statistics for Variable 1, grouped by your chosen grouping variable:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Your code here\n",
    "unit_data %>%\n",
    "  group_by(grouping_variable) %>%\n",
    "  summarize(\n",
    "    n = n(),\n",
    "    mean = mean(variable1),\n",
    "    sd = sd(variable1),\n",
    "    median = median(variable1)\n",
    "  )"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Write 3-4 sentences comparing the groups:**\n",
    "\n",
    "- Which group has the highest mean? Lowest?\n",
    "- Which group has the most variability?\n",
    "- Are the differences between groups substantial or minor?\n",
    "\n",
    "## Step 5: Distribution Visualizations\n",
    "\n",
    "Create a histogram and boxplot for Variable 1:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Histogram\n",
    "ggplot(unit_data, aes(x = variable1)) +\n",
    "  geom_histogram(bins = 15, fill = \"steelblue\", color = \"black\") +\n",
    "  labs(\n",
    "    title = \"Distribution of [Your Variable Name]\",\n",
    "    x = \"[Your Variable Name]\",\n",
    "    y = \"Frequency\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Boxplot\n",
    "ggplot(unit_data, aes(y = variable1)) +\n",
    "  geom_boxplot(fill = \"lightgreen\", color = \"black\") +\n",
    "  labs(\n",
    "    title = \"Boxplot of [Your Variable Name]\",\n",
    "    y = \"[Your Variable Name]\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Describe the distribution in 1-2 sentences:**\n",
    "\n",
    "- What is the shape (symmetric, skewed left, skewed right)?\n",
    "- Are there any outliers?\n",
    "- What does this tell you about your unit?\n",
    "\n",
    "## Step 6: Comparative Visualizations\n",
    "\n",
    "Create side-by-side boxplots comparing Variable 1 across your grouping variable:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Side-by-side boxplots\n",
    "ggplot(unit_data, aes(x = grouping_variable, y = variable1, fill = grouping_variable)) +\n",
    "  geom_boxplot() +\n",
    "  labs(\n",
    "    title = \"[Variable 1] by [Grouping Variable]\",\n",
    "    x = \"[Grouping Variable]\",\n",
    "    y = \"[Variable 1]\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Create faceted histograms:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Faceted histograms\n",
    "ggplot(unit_data, aes(x = variable1)) +\n",
    "  geom_histogram(bins = 10, fill = \"steelblue\", color = \"black\") +\n",
    "  facet_wrap(~grouping_variable) +\n",
    "  labs(\n",
    "    title = \"Distribution of [Variable 1] by [Grouping Variable]\",\n",
    "    x = \"[Variable 1]\",\n",
    "    y = \"Frequency\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Write 1-2 sentences comparing the groups visually:**\n",
    "\n",
    "- Do the distributions look similar or different across groups?\n",
    "- Which group has the widest spread?\n",
    "- Are there outliers in specific groups only?\n",
    "\n",
    "## Step 7: Relationship Between Two Variables\n",
    "\n",
    "Create a scatterplot showing the relationship between Variable 1 and Variable 2:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Basic scatterplot\n",
    "ggplot(unit_data, aes(x = variable2, y = variable1)) +\n",
    "  geom_point(size = 2, alpha = 0.6, color = \"blue\") +\n",
    "  labs(\n",
    "    title = \"[Variable 1] vs [Variable 2]\",\n",
    "    x = \"[Variable 2]\",\n",
    "    y = \"[Variable 1]\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Scatterplot colored by grouping variable\n",
    "ggplot(unit_data, aes(x = variable2, y = variable1, color = grouping_variable)) +\n",
    "  geom_point(size = 2, alpha = 0.6) +\n",
    "  labs(\n",
    "    title = \"[Variable 1] vs [Variable 2] by [Grouping Variable]\",\n",
    "    x = \"[Variable 2]\",\n",
    "    y = \"[Variable 1]\",\n",
    "    color = \"[Grouping Variable]\"\n",
    "  ) +\n",
    "  theme_minimal()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Describe the relationship in 1-2 sentences:**\n",
    "\n",
    "- Is there a positive, negative, or no apparent relationship?\n",
    "- Is the relationship strong or weak?\n",
    "- Does the relationship appear to differ across your grouping variable?\n",
    "\n",
    "## Step 8: Summary and Conclusions\n",
    "\n",
    "Write a comprehensive summary paragraph of your findings:\n",
    "\n",
    "1. What were the key findings about Variable 1 in your unit?\n",
    "2. What did you learn from comparing groups?\n",
    "3. What was the relationship between your two quantitative variables?\n",
    "4. What insights does this give you about your unit?\n",
    "5. What questions do these findings raise for further investigation?\n",
    "\n",
    "---\n",
    "\n",
    "## Common ggplot2 Customizations"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Change colors\n",
    "# ggplot(data, aes(x = var)) +\n",
    "#   geom_histogram(fill = \"darkblue\", color = \"white\")\n",
    "\n",
    "# Add a theme\n",
    "# ggplot(data, aes(x = var)) +\n",
    "#   geom_histogram() +\n",
    "#   theme_bw()  # Other options: theme_minimal(), theme_classic()\n",
    "\n",
    "# Adjust axis limits\n",
    "# ggplot(data, aes(x = var)) +\n",
    "#   geom_histogram() +\n",
    "#   xlim(0, 100)\n",
    "\n",
    "# Rotate x-axis labels if they're long\n",
    "# ggplot(data, aes(x = category, y = value)) +\n",
    "#   geom_boxplot() +\n",
    "#   theme(axis.text.x = element_text(angle = 45, hjust = 1))"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "R",
   "language": "R",
   "name": "ir"
  },
  "language_info": {
   "codemirror_mode": "r",
   "file_extension": ".r",
   "mimetype": "text/x-r-source",
   "name": "R",
   "pygments_lexer": "r",
   "version": "4.0.0"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
